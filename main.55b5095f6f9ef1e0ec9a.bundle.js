(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{10:function(module,__webpack_exports__,__webpack_require__){"use strict";(function(module){var _mondobrain_utils__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(48),_utils__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(9);class MondoCharts{constructor(){this.registry=new _utils__WEBPACK_IMPORTED_MODULE_1__.a,this.redrawAll=this.redrawAll.bind(this),this.renderAll=this.renderAll.bind(this)}redrawAll(last=!0){this.registry.list().forEach(i=>{i.redraw(last)})}renderAll(){this.registry.list().forEach(i=>{i.render()})}}__webpack_exports__.a=Object(_mondobrain_utils__WEBPACK_IMPORTED_MODULE_0__.b)(module,"MC",()=>new MondoCharts)}).call(this,__webpack_require__(65)(module))},13:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return Crossfilter}),__webpack_require__.d(__webpack_exports__,"b",function(){return createContinuousGroup});__webpack_require__(85),__webpack_require__(86),__webpack_require__(532);var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(15),_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_3__),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(16),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_4__),_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(17),_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5__),_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(18),_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6__),_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(19),_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_7__),_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(5),_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_8__),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(4),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_9___default=__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_9__),react__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(1),react__WEBPACK_IMPORTED_MODULE_10___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_10__),prop_types__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(0),prop_types__WEBPACK_IMPORTED_MODULE_11___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_11__),crossfilter2__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(113),crossfilter2__WEBPACK_IMPORTED_MODULE_12___default=__webpack_require__.n(crossfilter2__WEBPACK_IMPORTED_MODULE_12__),d3__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(2),Crossfilter=function(_React$Component){function Crossfilter(){var _getPrototypeOf2,_this;_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_3___default()(this,Crossfilter);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _this=_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5___default()(this,(_getPrototypeOf2=_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6___default()(Crossfilter)).call.apply(_getPrototypeOf2,[this].concat(args))),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_9___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_8___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_8___default()(_this)),"state",{loaded:!1}),_this}return _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_7___default()(Crossfilter,_React$Component),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_4___default()(Crossfilter,[{key:"componentDidMount",value:function(){var _this2=this;d3__WEBPACK_IMPORTED_MODULE_13__.csv("https://earthquake.usgs.gov/fdsnws/event/1/query?format=csv&starttime=2018-12-18&endtime=2019-01-18").then(function(data){_this2.facts=crossfilter2__WEBPACK_IMPORTED_MODULE_12___default()(data),_this2.setState({loaded:!0})})}},{key:"render",value:function(){return this.state.loaded?this.props.children(this.facts):null}}]),Crossfilter}(react__WEBPACK_IMPORTED_MODULE_10___default.a.Component);_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_9___default()(Crossfilter,"propTypes",{children:prop_types__WEBPACK_IMPORTED_MODULE_11___default.a.func.isRequired});var createContinuousGroup=function(dimension,accessor){var group,maxBins=2<arguments.length&&void 0!==arguments[2]?arguments[2]:35,min=accessor(dimension.bottom(1)[0]),max=accessor(dimension.top(1)[0]);if(dimension.group().size()<maxBins)group=dimension.group();else{var binWidth=(max-min)/maxBins;group=dimension.group(function(d){if(d===Number.MAX_SAFE_INTEGER)return d;var rounded=Math.floor(d/binWidth)*binWidth,factor=Math.pow(10,3);return Math.round(rounded*factor)/factor})}return group.oldAll=group.all,group.all=function(){return group.oldAll().filter(function(d){return d.key<Number.MAX_SAFE_INTEGER})},group};Crossfilter.__docgenInfo={description:"",methods:[],displayName:"Crossfilter",props:{children:{type:{name:"func"},required:!0,description:""}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["stories/utils.js"]={name:"Crossfilter",docgenInfo:Crossfilter.__docgenInfo,path:"stories/utils.js"})},228:function(module,exports,__webpack_require__){__webpack_require__(229),__webpack_require__(307),module.exports=__webpack_require__(308)},28:function(module,__webpack_exports__,__webpack_require__){"use strict";var objectSpread=__webpack_require__(8),objectSpread_default=__webpack_require__.n(objectSpread),classCallCheck=__webpack_require__(15),classCallCheck_default=__webpack_require__.n(classCallCheck),createClass=__webpack_require__(16),createClass_default=__webpack_require__.n(createClass),possibleConstructorReturn=__webpack_require__(17),possibleConstructorReturn_default=__webpack_require__.n(possibleConstructorReturn),getPrototypeOf=__webpack_require__(18),getPrototypeOf_default=__webpack_require__.n(getPrototypeOf),inherits=__webpack_require__(19),inherits_default=__webpack_require__.n(inherits),assertThisInitialized=__webpack_require__(5),assertThisInitialized_default=__webpack_require__.n(assertThisInitialized),defineProperty=__webpack_require__(4),defineProperty_default=__webpack_require__.n(defineProperty),react=__webpack_require__(1),react_default=__webpack_require__.n(react),prop_types=__webpack_require__(0),prop_types_default=__webpack_require__.n(prop_types),MondoCharts=__webpack_require__(10),d3_node=__webpack_require__(2),lodash=__webpack_require__(3),lodash_default=__webpack_require__.n(lodash),utils=__webpack_require__(9);const defaultConfig={dimension:null,group:null,target:null,width:null,height:null,minHeight:130,margins:{top:10,right:20,bottom:30,left:30},throttle:150},events=["filter","willRender","render"];let currentId=0;const BaseChartConfigMixin=superclass=>(class extends superclass{get name(){return this._config.name}get dimension(){return this._config.dimension}get group(){return this._config.group}get target(){return this._config.target}set target(target){this._config.target=target}get width(){return this._config.width?this._config.width:this._config.target.clientWidth}set width(width){this._config.width=width}get height(){return this._config.height||this._config.minHeight}set height(height){this._config.height=height}get margins(){return this._config.margins}set margins(margins){this._config.margins=margins}get dimensions(){if(this._cache.has("dimensions"))return this._cache.get("dimensions");const dimensions=[this.width-this.margins.left-this.margins.right,this.height-this.margins.top-this.margins.bottom];return this._cache.set("dimensions",dimensions),dimensions}get throttle(){return this._config.throttle}});var charts_BaseChart=class{constructor(config){this.emitter=d3_node.dispatch(...events),this._callbacks={},this._cache=new Map,this._config=Object.assign({},defaultConfig,config),this._filters=[],this.modules=new utils.a,this._id=currentId++,MondoCharts.a.registry.register(this),this._applyFiltersThrottled=lodash_default.a.throttle(this._applyFilters.bind(this),this.throttle),this.on=this.on.bind(this),this.off=this.off.bind(this),this.getOnCallback=this.getOnCallback.bind(this),this.on("render.modules",()=>{this.modules.list().forEach(module=>{module.rendered()&&module.rerender()})})}on(event,cb){this._callbacks[event]=cb,this.emitter.on(event,cb)}off(event){delete this._callbacks[event],this.emitter.on(event,null)}getOnCallback(event){return lodash_default.a.has(this._callbacks,event)?this._callbacks[event]:null}render(){this._cache.clear(),this.destroySVG(),this.createSVG(),this.createChart()}redraw(){console.error(`${this.constructor.name} children must implement 'redraw' method.`)}remove(){this.destroySVG(),MondoCharts.a.registry.deregister(this)}_applyFilters(cb){const filters=this._filters;if(null===filters)this.dimension.filterAll();else if(lodash_default.a.isArray(filters))if(0===filters.length)this.dimension.filterAll();else if(1===filters.length)this.dimension.filterExact(filters[0]);else if(2===filters.length&&lodash_default.a.isNumber(filters[0])){const modifiedFilters=[filters[0],filters[1]+1e-9];this.dimension.filterRange(modifiedFilters)}else this.dimension.filterFunction(d=>{for(let i=0;i<filters.length;i+=1)if(d===filters[i])return!0;return!1});else this.dimension.filterExact(filters);this.emitter.call("filter",this,filters),cb&&cb()}get data(){console.error(`${this.constructor.name} children must implement 'data' getter.`)}createSVG(){const target=d3_node.select(this.target);let svg=target.select("svg");svg.empty()&&((svg=target.append("svg")).attr("width",this.width).attr("height",this.height),this.svg=svg)}destroySVG(){this.svg&&(this.svg.remove(),this.svg=null)}createChart(){if(!this.svg)throw new Error("SVG does not exist.");let chart=this.svg.select("g.chart");chart.empty()&&((chart=this.svg.append("g")).attr("class","chart").attr("transform",`translate(${this.margins.left}, ${this.margins.top})`),this.chart=chart)}destroyChart(){this.chart&&(this.chart.remove(),this.chart=null)}getAnchor(){return lodash_default.a.isElement(this.target)?this.target:document.querySelector(this.target)}},src=__webpack_require__(48);const BarChart_defaultConfig={barGap:.25,barCount:null,yTickCount:6};var charts_BarChart=Object(utils.c)(class extends charts_BaseChart{constructor(options){super(options),this._config=Object.assign({},BarChart_defaultConfig,this._config),this.x=d3_node.scaleLinear(),this.y=d3_node.scaleLinear(),this.yAxis=d3_node.axisLeft(this.y).ticks(this.yTickCount).tickFormat(utils.b),this.xAxis=(sel=>this.varType===src.c.DATE?d3_node.axisBottom(this.x).ticks(4).tickFormat(val=>{const date=Object(src.a)(val);return d3_node.timeFormat("%d %b %Y")(date)})(sel):d3_node.axisBottom(this.x).ticks(6).tickFormat(utils.b)(sel)),this.brush=d3_node.brushX(),this.oldX=null,this.oldY=null,this.barValues=[],this.brush.filter(()=>{if(d3_node.event instanceof MouseEvent)return!0;let returnVal=!1;const newX=d3_node.event.touches[0].clientX,newY=d3_node.event.touches[0].clientY;if(null==this.oldX||null==this.oldY)return this.oldX=newX,this.oldY=newY,!1;const diffX=this.oldX-newX,diffY=this.oldY-newY;return Math.abs(diffX)<Math.abs(diffY)&&(returnVal=!0),this.oldX=newX,this.oldY=newY,returnVal}),this.handleBrush=this.handleBrush.bind(this),this.handleBrushEnd=this.handleBrushEnd.bind(this),this.brush.on("brush",this.handleBrush),this.brush.on("end",this.handleBrushEnd),this.filter=this.filter.bind(this),this._syncBrush=this._syncBrush.bind(this),this._syncHandles=this._syncHandles.bind(this),this._highlightBars=this._highlightBars.bind(this),this._isInFilter=this._isInFilter.bind(this)}handleBrush(){if(!d3_node.event.sourceEvent)return;const{selection:selection}=d3_node.event;this._filters=selection.map(this.x.invert),this._highlightBars(),this._syncHandles(selection),this._applyFiltersThrottled(()=>{MondoCharts.a.redrawAll(!1)})}handleBrushEnd(){if(!d3_node.event.sourceEvent)return;const{selection:selection}=d3_node.event;this._filters=null===selection?[]:selection.map(this.x.invert),this._highlightBars(),this._syncHandles(selection),this._applyFiltersThrottled(MondoCharts.a.redrawAll)}filter(filters,sync=!0){if(lodash_default.a.isUndefined(filters))return this._filters;this._filters=null===filters?[]:filters,this._applyFilters(()=>{if(sync){this._highlightBars(),this._syncBrush();const selection=null===filters?null:filters.map(this.x);this._syncHandles(selection)}})}drawBars(transitionAll=!0){const[,h]=this.dimensions,barWidth=this.getBarWidth(),bar=this.chart.select(".bars").selectAll(".bar").data(this.data);this.bar=bar;const merge=bar.enter().append("rect").attr("class","bar").merge(bar),setAttrs=selection=>{selection.attr("x",d=>this._getBarXPosition(d)).attr("y",d=>this.y(d.value)).attr("width",barWidth).attr("height",d=>h-this.y(d.value))};transitionAll?merge.transition(d3_node.easeLinear).duration(this.throttle).call(setAttrs):merge.call(setAttrs),bar.exit().remove()}drawBackground(){const[,h]=this.dimensions,barWidth=this.getBarWidth();let backgroundData;this._cache.has("backgroundData")?backgroundData=this._cache.get("backgroundData"):(backgroundData=this.data,this._cache.set("backgroundData",backgroundData));const background=this.chart.select(".background").selectAll(".path").data(["background"]);background.enter().append("path").attr("class",d=>`${d}-path`).datum(backgroundData).attr("d",groups=>{if(this._cache.has("backgroundPath"))return this._cache.get("backgroundPath");const n=groups.length,path=Array(n);let d,i=-1;for(;++i<n;)d=groups[i],path[i]=`M${this._getBarXPosition(d)+barWidth/2},${h}V${this.y(d.value)}h${barWidth}V${h}`;const joined=path.join("");return this._cache.set("backgroundPath",joined),joined}),background.exit().remove()}redraw(last){let[y0,y1]=d3_node.extent(this.data,d=>d.value);this.y.domain([0,y1]),this.drawBars(),last&&this.chart.select(".y-axis").transition(d3_node.easeLinear).call(this.yAxis)}render(){super.render();const[w,h]=this.dimensions;this.xExtent=d3_node.extent(this.data,d=>d.key),this.yExtent=d3_node.extent(this.data,d=>d.value);const xDelta=(this.xExtent[1]-this.xExtent[0])/(this.barCount||this.data.length)*(1-this.barGap);this.xExtent=[this.xExtent[0]-xDelta,this.xExtent[1]+xDelta],this.x.domain(this.xExtent).range([0,w]),this.y.domain([0,this.yExtent[1]]).rangeRound([h,0]).clamp(!0),this.chart.append("g").attr("class","background"),this.chart.append("g").attr("class","bars"),this.brush.extent([[0,0],[w,h]]),this._gBrush=this.chart.append("g").attr("class","brush").call(this.brush),this._gBrushHandle=this._gBrush.selectAll(".handle--custom").data([{type:"w"},{type:"e"}]).enter().append("path").attr("class","handle--custom").attr("cursor","ew-resize").attr("d",d=>{const e=+("e"===d.type),x=e?1:-1,y=(this.height-(this.margins.top+this.margins.bottom))/3;return`M${.5*x},${y}A6,6 0 0 ${e} ${6.5*x},${y+6}V${2*y-6}A6,6 0 0 ${e} ${.5*x},${2*y}ZM${2.5*x},${y+8}V${2*y-8}M${4.5*x},${y+8}V${2*y-8}`}).attr("display","none"),this.chart.append("g").attr("class","x-axis").attr("transform",`translate(0, ${h})`).call(this.xAxis),this.chart.append("g").attr("class","y-axis").call(this.yAxis),this.drawBars(!1),this._filters.length>0&&(this._highlightBars(),this._syncBrush(),this._syncHandles(this._filters.map(this.x))),this.emitter.call("render",this)}get data(){return this.group.all()}getBarWidth(){if(this._cache.has("barWidth"))return this._cache.get("barWidth");const[x1,x2]=this.xExtent.map(this.x);let barWidth=(x2-x1)/(this.barCount||this.data.length);return barWidth*=1-this.barGap,this._cache.set("barWidth",barWidth),barWidth}getBarGap(){return this.getBarWidth()*(this.barGap/(1-this.barGap))}_syncBrush(){const brushNode=this.chart.select(".brush");let value;value=0===this._filters.length?null:this._filters.map(this.x),this.brush.move(brushNode,value)}_syncHandles(selectionRange){null!==selectionRange&&0!==selectionRange.length?this._gBrushHandle.attr("display",null).attr("transform",(d,i)=>`translate(${selectionRange[i]}, 0)`):this._gBrushHandle.attr("display","none")}_highlightBars(){this.chart.select(".bars").selectAll(".bar").classed("deselected",b=>this._filters.length>0&&!this._isInFilter(b.key))}_isInFilter(x){return this._filters[0]<=x&&x<this._filters[1]}_getBarXPosition(d){return this.x(d.key)-this.getBarWidth()/2}}).with(BaseChartConfigMixin,superclass=>(class extends superclass{get barGap(){return this._config.barGap}set barGap(barGap){this._config.barGap=barGap}get barCount(){return this._config.barCount}set barCount(barCount){this._config.barCount=barCount}get domain(){return this._config.domain}set domain(domain){this._config.domain=domain}get varType(){return this._config.varType}set varType(varType){this._config.varType=varType}get yTickCount(){return this._config.yTickCount}set yTickCount(yTickCount){this._config.yTickCount=yTickCount}}));__webpack_require__(515);const DiscreteChart_defaultConfig={height:240,margins:{top:0,right:30,bottom:0,left:30},gap:15,maxBarHeight:100,modalities:null,scoreTitle:null,labelTitle:null},formatSI=d3_node.format(","),percentageFormatter=d3_node.format(" <12.1%"),formatPercentage=d=>percentageFormatter(d).replace("%"," %");Object(utils.c)(class extends charts_BaseChart{constructor(config){super(Object.assign({},DiscreteChart_defaultConfig,config)),this.rendered=!1,this.handleBarClick=this.handleBarClick.bind(this),this.handleLegendClick=this.handleLegendClick.bind(this),this.filter=this.filter.bind(this),this.hasFilter=this.hasFilter.bind(this),this.hasFilters=this.hasFilters.bind(this),this.currentSelectionColors={}}handleBarClick(d){this.filter(d.key),this._applyFilters(MondoCharts.a.redrawAll)}handleLegendClick(d){this._config.setOutcomeTarget(d.key)}filter(filters){if(lodash_default.a.isUndefined(filters))return this._filters;if(null===filters)this._filters=[];else if(lodash_default.a.isArray(filters))this._filters=filters;else{const index=lodash_default.a.findIndex(this._filters,f=>f===filters);index>-1?this._filters.splice(index,1):this._filters.push(filters)}this._applyFilters()}hasFilter(filter){return lodash_default.a.findIndex(this._filters,f=>f===filter)>-1}hasFilters(){return this._filters.length>0}draw(){function getFirstBarOffset(i,barWidth,gap){return 2*i*barWidth+i*gap}const groupedBar=this.chart.select("g.groupedBars").selectAll("g.groupedBar").data(this.data,d=>d.key),enter=groupedBar.enter().append("g").attr("class","groupedBar");enter.append("rect").attr("class","selection").style("fill",d=>this.currentSelectionColors[d.key]?this.currentSelectionColors[d.key]:"red"),enter.append("rect").attr("class","reference"),enter.append("text").attr("class","selection-value"),enter.append("text").attr("class","reference-value");const update=groupedBar.merge(enter),selectionSize=this.data.reduce((acc,val)=>acc+val.value,0),referenceSize=this.data.reduce((acc,val)=>acc+val.referenceValue,0),barWidth=this.getBarWidth();update.select("rect.selection").classed("deselected",d=>this.hasFilters()&&!this.hasFilter(d.key)).classed("selected",d=>this.hasFilter(d.key)).attrs((d,i)=>{const width=barWidth;let height=0;0!==selectionSize&&(height=this.maxBarHeight*(d.value/selectionSize));const x=getFirstBarOffset(i,barWidth,this.gap);let y=this.maxBarHeight;return 0!==selectionSize&&(y=this.maxBarHeight-height),{width:width,height:height,x:x,y:y}}).on("click",this.handleBarClick),update.select("rect.reference").classed("deselected",d=>this.hasFilters()&&!this.hasFilter(d.key)).classed("selected",d=>this.hasFilter(d.key)).attrs((d,i)=>{const width=barWidth;let height=0;0!==referenceSize&&(height=this.maxBarHeight*(d.referenceValue/referenceSize));const x=getFirstBarOffset(i,barWidth,this.gap)+barWidth;let y=this.maxBarHeight;return 0!==referenceSize&&(y=this.maxBarHeight-height),{width:width,height:height,x:x,y:y}}).on("click",this.handleBarClick),update.select("text.selection-value").attrs((d,i)=>{const x=getFirstBarOffset(i,barWidth,this.gap)+barWidth,y=this.maxBarHeight;return{x:x,y:y,transform:`rotate(-90, ${x}, ${y}) translate(5, -${barWidth/2-5})`}}).html(d=>{let percentage=0;0!==selectionSize&&(percentage=d.value/selectionSize);const numPointsString=formatSI(d.value);return`&nbsp;<tspan font-weight="bold">${formatPercentage(percentage)}</tspan> ${numPointsString}`}).on("click",this.handleBarClick),update.select("text.reference-value").attrs((d,i)=>{const x=getFirstBarOffset(i,barWidth,this.gap)+2*barWidth,y=this.maxBarHeight;return{x:x,y:y,transform:`rotate(-90, ${x}, ${y}) translate(5, -${barWidth/2-5})`}}).html(d=>{let percentage=0;0!==referenceSize&&(percentage=d.referenceValue/referenceSize);const referenceString=formatSI(d.referenceValue);return`&nbsp;<tspan font-weight="bold">${formatPercentage(percentage)}</tspan> ${referenceString}`}).on("click",this.handleBarClick),groupedBar.exit().remove();const scores=this.chart.select("g.scores");scores.attr("transform",`translate(0, ${this.maxBarHeight+5})`);const scoreGroup=scores.selectAll("g.score-group").data(this.data,d=>d.key),scoreEnter=scoreGroup.enter().append("g").attr("class","score-group");scoreEnter.append("text").attr("class","score"),scoreEnter.insert("rect",":first-child").attr("class","score-background").attr("fill","#F9FFF4").attr("rx",8).attr("ry",8).style("opacity",.8),this.scoreTitle&&scoreEnter.append("title").text(this.title);const scoreUpdate=scoreEnter.merge(scoreGroup);scoreUpdate.select("text.score").text(d=>lodash_default.a.round(d.zScore,2)).attr("x",(d,i)=>getFirstBarOffset(i,barWidth,this.gap)+barWidth).each(function(d){d._scoreBBox=this.getBBox()}),scoreUpdate.select("rect.score-background").attr("x",d=>d._scoreBBox.x-3).attr("y",d=>d._scoreBBox.y-1).attr("width",d=>d._scoreBBox.width+6).attr("height",d=>d._scoreBBox.height+2);const labels=this.chart.select("g.labels"),scoresHeight=scores.node().getBBox().height,y=this.maxBarHeight+scoresHeight+5,label=labels.selectAll("text.label").data(this.data,d=>d.key),labelEnter=label.enter().append("text").attr("class","label"),labelUpdate=label.merge(labelEnter);labelUpdate.text(d=>d.key).classed("selected",d=>d.key===this.outcomeTarget).each(function(d){d.width=this.getBBox().width}).attrs((d,i)=>{const x=getFirstBarOffset(i,barWidth,this.gap)+barWidth,transform=`rotate(-75, ${x}, ${y}) translate(-${d.width+10})`;return{x:x,y:y,transform:transform}}).on("click",this.handleLegendClick),this.labelTitle&&labelUpdate.append("title").text(this.labelTitle)}redraw(){lodash_default.a.isEmpty(this.modalities)||lodash_default.a.isEmpty(this.outcomeTarget)||(this.rendered?(this._cache.delete("data"),this.draw()):this.render())}render(){lodash_default.a.isEmpty(this.modalities)||lodash_default.a.isEmpty(this.outcomeTarget)||(super.render(),this.chart.append("g").attr("class","groupedBars"),this.chart.append("g").attr("class","scores"),this.chart.append("g").attr("class","labels"),this.rendered||(this.rendered=!0),this.draw(),this.emitter.call("render",this))}get data(){if(this._cache.has("data"))return this._cache.get("data");const{modalities:modalities}=this,data=lodash_default.a.cloneDeep(modalities);return this._cache.set("data",data),data}getBarWidth(){const[w]=this.dimensions;let width=(w-(this.data.length-1)*this.gap)/this.data.length;return width/=2}}).with(BaseChartConfigMixin,superclass=>(class extends superclass{set modalities(value){return this._config.modalities=value,this}get modalities(){return this._config.modalities}get maxBarHeight(){return this._config.maxBarHeight}get gap(){return this._config.gap}set gap(value){return this._config.gap=value,this}set outcomeTarget(value){return this._config.outcomeTarget=value,this}get outcomeTarget(){return this._config.outcomeTarget}get scoreTitle(){return this._config.scoreTitle}set scoreTitle(scoreTitle){this._config.scoreTitle=scoreTitle}get labelTitle(){return this._config.labelTitle}set labelTitle(labelTitle){this._config.labelTitle=labelTitle}}));var crossfilter2=__webpack_require__(113),crossfilter2_default=__webpack_require__.n(crossfilter2);const RowChart_defaultConfig={rowGap:5,rowCap:10,xOffset:5,margins:{top:10,right:20,bottom:30,left:10},color:null};var charts_RowChart=Object(utils.c)(class extends charts_BaseChart{constructor(options){super(options),this._config=Object.assign({},RowChart_defaultConfig,this._config),this.x=d3_node.scaleLinear(),this.xAxis=d3_node.axisBottom(this.x),this.grid=d3_node.axisBottom(this.x).tickFormat(""),this.handleClick=this.handleClick.bind(this),this.filter=this.filter.bind(this),this.hasFilter=this.hasFilter.bind(this),this.hasFilters=this.hasFilters.bind(this)}handleClick(d){this.filter(d.key),this._applyFilters(MondoCharts.a.redrawAll)}filter(filters){if(lodash_default.a.isUndefined(filters))return this._filters;if(null===filters)this._filters=[];else if(lodash_default.a.isArray(filters))this._filters=filters;else{const index=lodash_default.a.findIndex(this._filters,f=>f===filters);index>-1?this._filters.splice(index,1):this._filters.push(filters)}this._applyFilters()}hasFilter(filter){return lodash_default.a.findIndex(this._filters,f=>f===filter)>-1}hasFilters(){return this._filters.length>0}drawRows(transitionAll=!0){const rowHeight=this.getRowHeight(),rowGap=this.getRowGap(),row=this.chart.select("g.rows").selectAll("g.row").data(this.data,d=>d.key);row.exit().remove();const enter=row.enter().append("g").attr("class","row");enter.append("rect"),enter.append("text"),enter.append("title");const update=row.merge(enter);update.attr("transform",(d,i)=>`translate(0, ${i*(rowHeight+rowGap)})`),update.select("rect").classed("deselected",d=>this.hasFilters()&&!this.hasFilter(d.key)).classed("selected",d=>this.hasFilter(d.key));const setAttrs=selection=>{selection.attr("height",rowHeight).attr("width",d=>this.x(d.value)).attr("fill",(d,i)=>this._color(i))};transitionAll?update.select("rect").transition(d3_node.easeLinear).duration(this.throttle).call(setAttrs):update.select("rect").call(setAttrs),update.select("text").text(d=>d.key).attr("x",this.xOffset).attr("y",rowHeight/2).attr("dominant-baseline","central"),update.select("title").text(d=>d.value),update.select("rect").filter(d=>!lodash_default.a.has(d,"data")).classed("selectable",!0).on("click",this.handleClick)}redraw(last){this._cache.delete("data");const xMax=d3_node.max(this.data,d=>d.value);this.x.domain([0,xMax]).nice(),this.drawRows(),last&&(this._renderXAxis(),this._renderGrid())}render(){super.render();const[w,h]=this.dimensions,xMax=d3_node.max(this.data,d=>d.value);this.x.domain([0,xMax]).range([0,w]).nice(),this.chart.append("g").attr("class","x-axis").attr("transform",`translate(0, ${h})`),this.chart.append("g").attr("class","grid").attr("transform",`translate(0, ${h})`),this.chart.append("g").attr("class","rows"),this._renderXAxis(),this._renderGrid(),this.drawRows(!1),this.emitter.call("render",this)}_renderXAxis(){this.chart.select("g.x-axis").transition(d3_node.easeLinear).call(this.xAxis)}_renderGrid(){const[,h]=this.dimensions;this.chart.select("g.grid").transition(d3_node.easeLinear).duration(this.throttle).call(this.grid.tickSize(-h))}_color(i){if("string"==typeof this.color&&d3_node.color(this.color))return this.color;if("function"==typeof this.color)return this.color(i);const scale=d3_node.scaleLinear().domain([this.data.length,0]).range(["#9ECAE1","#3182bd"]);return this.color=scale,this.color(i)}get data(){if(this._cache.has("data"))return this._cache.get("data");const data=[...this.group.all()],sortedData=crossfilter2_default.a.quicksort.by(d=>-d.value)(data,0,data.length);if(sortedData.length<=this.rowCap)return this._cache.set("data",sortedData),sortedData;let cappedData=sortedData.splice(0,this.rowCap-1);const rest=sortedData.splice(this.rowCap);return cappedData=cappedData.concat([{key:"others",value:d3_node.sum(rest,d=>d.value),data:rest}]),this._cache.set("data",cappedData),cappedData}getRowHeight(){if(this._cache.has("rowHeight"))return this._cache.get("rowHeight");const[,h]=this.dimensions;let rowHeight=h/this.data.length;return rowHeight=lodash_default.a.isInteger(this.rowGap)?rowHeight-this.rowGap:rowHeight*(1-this.rowGap),this._cache.set("rowHeight",rowHeight),rowHeight}getRowGap(){const rowHeight=this.getRowHeight();return lodash_default.a.isInteger(this.rowGap)?this.rowGap:rowHeight*(this.rowGap*(1-this.rowGap))}}).with(BaseChartConfigMixin,superclass=>(class extends superclass{get color(){return this._config.color}set color(color){this._config.color=color}get rowCap(){return this._config.rowCap}set rowCap(rowCap){this._config.rowCap=rowCap}get rowGap(){return this._config.rowGap}set rowGap(rowGap){this._config.rowGap=rowGap}get rowColorGradient(){return this._config.rowColorGradient}set rowColorGradient(rowColorGradient){this._config.rowColorGradient=rowColorGradient}get xOffset(){return this._config.xOffset}set xOffset(xOffset){this._config.xOffset=xOffset}}));const BaseMap_defaultConfig={latitude:{accessor:null,dimension:null,group:null},longitude:{accessor:null,dimension:null,group:null},target:null,width:null,height:null,minHeight:130,margins:{top:10,right:20,bottom:30,left:30},throttle:150},BaseMap_events=["filter","willRender","render","willDraw","draw"];let BaseMap_currentId=0;var maps_BaseMap=class{constructor(config){this.emitter=d3_node.dispatch(...BaseMap_events),this._callbaks={},this._cache=new Map,this._config=Object.assign({},BaseMap_defaultConfig,config),this._filters=[[],[]],this.modules=new utils.a,this._id=BaseMap_currentId++,MondoCharts.a.registry.register(this),this._applyFiltersThrottled=lodash_default.a.throttle(this._applyFilters.bind(this),this.throttle),this.on=this.on.bind(this),this.off=this.off.bind(this),this.getOnCallback=this.getOnCallback.bind(this),this.on("render.modules",()=>{this.modules.list().forEach(module=>{module.rendered()&&module.rerender()})})}on(event,cb){this._callbaks[event]=cb,this.emitter.on(event,cb)}off(event){delete this._callbaks[event],this.emitter.on(event,null)}getOnCallback(event){return lodash_default.a.has(this._callbaks,event)?this._callbaks[event]:null}render(){this._cache.clear(),this.destroyContainer(),this.createContainer()}redraw(){console.error(`${this.constructor.name} children must implement 'redraw' method.`)}remove(){this.destroyContainer(),MondoCharts.a.registry.deregister(this)}get data(){console.error(`${this.constructor.name} children must implement 'data' getter.`)}createContainer(){const target=d3_node.select(this.target);let container=target.select("div");container.empty()&&((container=target.append("div")).style("width",`${this.width}px`).style("height",`${this.height}px`),this.container=container)}destroyContainer(){this.container&&(this.container.remove(),this.container=null)}getAnchor(){return lodash_default.a.isElement(this.target)?this.target:document.querySelector(this.target)}_applyFilters(cb){const[latFilters,lngFilters]=this._filters;this.latitude.dimension.filter(latFilters),this.longitude.dimension.filter(lngFilters),MondoCharts.a.redrawAll(),this.emitter.call("filter",this,this._filters),cb&&cb()}},mapbox_gl=__webpack_require__(148),mapbox_gl_default=__webpack_require__.n(mapbox_gl);const PointMap_defaultConfig={accessToken:null,filterVisible:!1};var maps_PointMap=Object(utils.c)(class extends maps_BaseMap{constructor(options){super(options),this._config=Object.assign({},PointMap_defaultConfig,this._config),mapbox_gl_default.a.accessToken=this.accessToken,this.draw=this.draw.bind(this),this.handleMove=this.handleMove.bind(this)}filter(lat=null,lng=null){null!==lat&&lodash_default.a.isArray(lat)&&2===lat.length&&(this._filters[0]=lat),null!==lng&&lodash_default.a.isArray(lng)&&2===lng.length&&(this._filters[1]=lng),this._applyFiltersThrottled(MondoCharts.a.redrawAll)}draw(){this.map.addSource("data",{type:"geojson",data:this.data,cluster:!0,clusterMaxZoom:14,clusterRadius:50}),this.map.addLayer({id:"clusters",type:"circle",source:"data",filter:["has","point_count"],paint:{"circle-color":["step",["get","point_count"],"#51bbd6",50,"#70F8BA",100,"#f1f075",750,"#f28cb1"],"circle-radius":["step",["get","point_count"],20,50,25,100,30,750,40]}}),this.map.addLayer({id:"cluster-count",type:"symbol",source:"data",filter:["has","point_count"],layout:{"text-field":"{point_count_abbreviated}","text-font":["Open Sans Regular","Arial Unicode MS Bold"],"text-size":12}}),this.map.addLayer({id:"unclustered-point",type:"circle",source:"data",filter:["!",["has","point_count"]],paint:{"circle-color":"#11b4da","circle-radius":4,"circle-stroke-width":1,"circle-stroke-color":"#fff"}})}redraw(){this._cache.delete("data"),this.map.getSource("data").setData(this.data)}handleMove(){const{_sw:{lat:lat1,lng:lng1},_ne:{lat:lat2,lng:lng2}}=this.map.getBounds();this.filter([lat1,lat2],[lng1,lng2])}render(){super.render(),this.map=new mapbox_gl_default.a.Map({container:this.container.node(),style:"mapbox://styles/mapbox/streets-v9",zoom:1}),this.map.on("load",this.draw),this.filterVisible&&this.map.on("move",this.handleMove),this.emitter.call("render",this)}get data(){if(this._cache.has("data"))return this._cache.get("data");const geoJsonData={type:"FeatureCollection",features:this.latitude.dimension.top(1/0).map(d=>{let lat,lng;return lat="function"==typeof this.latitude.accessor?this.latitude.accessor(d):d[this.latitude.accessor],{type:"Feature",geometry:{type:"Point",coordinates:[lng="function"==typeof this.longitude.accessor?this.longitude.accessor(d):d[this.longitude.accessor],lat]},properties:d}})};return this._cache.set("data",geoJsonData),geoJsonData}}).with(superclass=>(class extends superclass{get name(){return this._config.name}get dimension(){return[this._config.latitude.dimension,this._config.longitude.dimension]}get group(){return[this._config.latitude.group,this._config.longitude.group]}get latitude(){return this._config.latitude}get longitude(){return this._config.longitude}get target(){return this._config.target}set target(target){this._config.target=target}get width(){return this._config.width?this._config.width:this._config.target.clientWidth}set width(width){this._config.width=width}get height(){return this._config.height||this._config.minHeight}set height(height){this._config.height=height}get margins(){return this._config.margins}set margins(margins){this._config.margins=margins}get dimensions(){if(this._cache.has("dimensions"))return this._cache.get("dimensions");const dimensions=[this.width-this.margins.left-this.margins.right,this.height-this.margins.top-this.margins.bottom];return this._cache.set("dimensions",dimensions),dimensions}get throttle(){return this._config.throttle}}),superclass=>(class extends superclass{get accessToken(){return this._config.accessToken}get filterVisible(){return this._config.filterVisible}set filterVisible(filterVisible){this._config.filterVisible=filterVisible}}));const BaseModule_defaultConfig={instance:null,name:null},BaseModule_events=["render"];const BaseModuleConfigMixin=superclass=>(class extends superclass{get instance(){return this._config.instance}set instance(instance){this._config.instance=instance}get name(){return this._config.key}get key(){return this._config.key}set key(key){this._config.key=key}});var modules_BaseModule=class{constructor(config,customEvents=[]){const allEvents=[...BaseModule_events,...customEvents];this.emitter=d3_node.dispatch(...allEvents),this._callbacks={},this._config=Object.assign({},BaseModule_defaultConfig,config),null===this.instance&&console.error('MondoChart Modules must be passed a "chart instance" as part of the config'),(null===this.key||this.instance.modules.has(this.key))&&console.error('MondoChart Modules must be passed a unique "key" as part of the config'),this.instance.modules.register(this),this._rendered=!1,lodash_default.a.bindAll(this,["on","off","getOnCallback","render","rerender"])}on(event,cb){this._callbacks[event]=cb,this.emitter.on(event,cb)}off(event){delete this._callbacks[event],this.emitter.on(event,null)}getOnCallback(event){return lodash_default.a.has(this._callbacks,event)?this._callbacks[event]:null}render(){console.error(`${this.constructor.name} children must implement 'render' method.`)}rerender(){console.error(`${this.constructor.name} children must implement 'rerender' method.`)}rendered(rendered=null){if(null===rendered)return this._rendered;lodash_default.a.isBoolean(rendered)?this._rendered=rendered:console.error("`MondoChartModules.rendered` must be passed a boolean or no arguments")}remove(){console.error(`${this.constructor.name} children must implement 'remove' method.`)}};const LabelModule_defaultConfig={text:null,title:null,backgroundColor:"#F9FFF4",color:"black",fontSize:"15px",horizontalPadding:3,verticalPadding:1,position:null};var modules_LabelModule=Object(utils.c)(class extends modules_BaseModule{constructor(config){super(config),this._config=Object.assign({},LabelModule_defaultConfig,this._config),lodash_default.a.bindAll(this,["setColor","setText"])}setColor(color=null,force=!1){force||(this.color=null===color?"black":color),force&&lodash_default.a.isNil(this.color)&&(this.color="black"),this.labelText.attr("fill",this.color)}setText(text){if(null===text)return console.warn("[LabelModule] `updateText` removes the label group entirely when passed `null`. In the future utilize `[LabelModule].remove()`"),void this.remove();this.text=text,this.labelText.text(this.text),this._resizeBackground(),this._positionLabel()}render(initialText=null){null!==initialText&&(this.text=initialText),this._drawLabel(this.text),this._resizeBackground(),this._positionLabel(),this.rendered(!0),this.emitter.call("render",this)}rerender(){this.render(),this.setColor(null,!0)}remove(){this.labelGroup&&this.labelGroup.remove(),this.rendered(!1),this.instance.modules.deregister(this)}_drawLabel(text){this.labelGroup=this.instance.chart.append("g").attr("class","label-group").attr("fill","none"),this.title&&this.labelGroup.append("title").text(this.title),this.labelText=this.labelGroup.append("text").text(text).attr("class","label-text").attr("font-size",this.fontSize).attr("font-weight","bold").attr("fill",this.color);const{x:x,y:y}=this.labelText.node().getBBox();this.labelBackground=this.labelGroup.insert("rect",":first-child").attr("class","label-background").style("pointer-events","none").style("opacity",.8).attr("fill",this.backgroundColor).attr("rx",8).attr("ry",8).attr("x",x-this.horizontalPadding).attr("y",y-this.verticalPadding)}_positionLabel(){let pos={};"function"==typeof this.position?pos=this.position(this.labelGroup,this.instance):"object"==typeof this.position&&null!==this.position&&(pos=this.position);const centerPos=this._getCenterPosition();pos.x||(pos.x=centerPos.x),pos.y||(pos.y=centerPos.y),this.labelGroup.attr("transform",`translate(${pos.x}, ${pos.y})`)}_getCenterPosition(){const[w,h]=this.instance.dimensions,{width:width,height:height}=this.labelText.node().getBBox();return{x:w/2-width/2,y:h/2-height/2}}_resizeBackground(){const{width:width,height:height}=this.labelText.node().getBBox();this.labelBackground.attr("width",width+2*this.horizontalPadding).attr("height",height+2*this.verticalPadding)}}).with(BaseModuleConfigMixin,superclass=>(class extends superclass{get text(){return this._config.text}set text(text){this._config.text=text}get title(){return this._config.title}set title(title){this._config.title=title}get backgroundColor(){return this._config.backgroundColor}set backgroundColor(color){this._config.backgroundColor=color}get color(){return this._config.color}set color(color){this._config.color=color}get fontSize(){return this._config.fontSize}set fontSize(size){this._config.fontSize=size}get horizontalPadding(){return this._config.horizontalPadding}set horizontalPadding(padding){this._config.horizontalPadding=padding}get verticalPadding(){return this._config.verticalPadding}set verticalPadding(padding){this._config.verticalPadding=padding}get position(){return this._config.position}set position(position){this._config.position=position}}));const SliderModule_defaultConfig={thickness:25,bounds:null,throttle:150,labelFontSize:10},SliderModule_events=["slide"];var modules_SliderModule=Object(utils.c)(class extends modules_BaseModule{constructor(config){super(config,SliderModule_events),this._config=Object.assign({},SliderModule_defaultConfig,this._config),this._value=null,this._emitUpdateThrottled=lodash_default.a.throttle(this._emitUpdate,this.throttle),this.instance.on("filter.slider",this._onFilter.bind(this))}draw(){const[x1,x2]=this.instance.x.range(),[w,h]=this.instance.dimensions;this.slider=this.instance.chart.append("g").attr("class","slider").attr("fill","none").attr("transform",`translate(0, ${h})`),this.slider.append("line").attr("class","track").attr("x1",x1).attr("x2",x2).style("width",`${w}px`),this.sliderHandle=this.slider.append("g").attr("class","slider-triangle-group").attr("transform","translate(0, 0)").call(d3_node.drag().on("start.interrupt",()=>this.slider.interrupt()).on("start drag",()=>this._moveSlider(this.instance.x.invert(d3_node.event.x))));const{cr:cr,cl:cl,br:br,bl:bl}=this._getTrianglePoints();this.sliderHandle.append("path").attr("class","triangle-top").attr("d",`M0,0\n                  L${cr.x},${cr.y}\n                  L${cl.x},${cl.y} Z`).attr("fill","#2C5988"),this.sliderHandle.append("path").attr("class","triangle-bottom").attr("d",`M${cr.x},${cr.y}\n                  L${br.x},${br.y}\n                  L${bl.x},${bl.y}\n                  L${cl.x},${cl.y} Z`).attr("fill","#3B79B8"),this.sliderLabel=this.sliderHandle.append("text").attr("class","slider-label").attr("fill","black").attr("text-anchor","middle").attr("font-size",`${this.labelFontSize}px`).attr("transform",`translate(0, ${this.thickness+this.labelFontSize})`).attr("cursor","default").text("")}_clamp(d){if(Array.isArray(this.bounds))return lodash_default.a.clamp(d,...this.bounds);if("function"==typeof this.bounds)return this.bounds(d);let[min,max]=this.instance.xExtent;return this.instance._filters.length>0&&(min=lodash_default.a.max([min,this.instance._filters[0]]),max=lodash_default.a.min([max,this.instance._filters[1]])),lodash_default.a.clamp(d,min,max)}_moveSlider(d,emitEvent=!0){this._value=this._clamp(d),emitEvent&&this._emitUpdateThrottled(),this.sliderHandle.attr("transform",`translate(${this.instance.x(this._value)}, 0)`),this._setLabel()}_setLabel(){let text;if(this.instance.varType===src.c.DATE){const date=Object(src.a)(this._value);text=d3_node.timeFormat("%d %b %Y")(date)}else text=this._value.toFixed(2);this.sliderLabel.text(text)}_getTrianglePoints(){const slope={x:3*this.thickness/10,y:this.thickness};return{cr:{x:.5*slope.x,y:.5*slope.y},cl:{x:-.75*slope.x,y:.75*slope.y},br:{x:slope.x,y:slope.y},bl:{x:-1*slope.x,y:slope.y}}}_onFilter(){const d=this._clamp(this._value);d!==this._value&&this._moveSlider(d)}_emitUpdate(){this.emitter.call("slide",this,this._value)}setValue(d,emit=!0){this._moveSlider(d,emit)}render(initial){this.remove(),this.draw();let initialPosition=initial;if(null==initial){const[min,max]=this.instance.x.domain();initialPosition=(max-min)/2+min}this._moveSlider(initialPosition),this.rendered(!0),this.emitter.call("render",this)}rerender(){this.render()}remove(){this.slider&&this.slider.remove(),this.rendered(!1),this.instance.modules.deregister(this)}}).with(BaseModuleConfigMixin,superclass=>(class extends superclass{get thickness(){return this._config.thickness}set thickness(thickness){this._config.thickness=thickness}get bounds(){return this._config.bounds}set bounds(bounds){this._config.bounds=bounds}get throttle(){return this._config.throttle}set throttle(throttle){this._config.throttle=throttle}get labelFontSize(){return this._config.labelFontSize}set labelFontSize(labelFontSize){this._config.labelFontSize=labelFontSize}})),helpers_extends=(MondoCharts.a,__webpack_require__(30)),extends_default=__webpack_require__.n(helpers_extends),toConsumableArray=__webpack_require__(227),toConsumableArray_default=__webpack_require__.n(toConsumableArray),objectWithoutProperties=(__webpack_require__(35),__webpack_require__(60)),objectWithoutProperties_default=__webpack_require__.n(objectWithoutProperties),getDisplayName=function(Component){return Component.displayName||Component.name||"Component"},isStateless=function(Component){return"string"!=typeof Component&&!Component.prototype.render},hocs_withModule=function(createModule){return function(ModuleComponent){var Module=function(_Component){function Module(props){var _this;return classCallCheck_default()(this,Module),_this=possibleConstructorReturn_default()(this,getPrototypeOf_default()(Module).call(this,props)),defineProperty_default()(assertThisInitialized_default()(assertThisInitialized_default()(_this)),"onRender",function(){_this.component&&_this.component.onRender&&_this.component.onRender(_this.module),_this.props.onRender&&_this.props.onRender(_this.module)}),_this.componentRef=Object(react.createRef)(),_this.createModule=createModule,_this}return inherits_default()(Module,_Component),createClass_default()(Module,[{key:"componentDidMount",value:function(){var _this$module,_this$props=this.props,instance=_this$props.instance,name=_this$props.name,restProps=objectWithoutProperties_default()(_this$props,["instance","name"]);this.module=this.createModule(instance,name,restProps),this.module.on("render",this.onRender);var args=[];this.component&&this.component.constructor.getInitialArgsFromProps&&(args=this.component.constructor.getInitialArgsFromProps(this.props)),(_this$module=this.module).render.apply(_this$module,toConsumableArray_default()(args))}},{key:"componentWillUnmount",value:function(){this.module.remove()}},{key:"render",value:function(){var ref=isStateless(ModuleComponent)?{}:{ref:this.componentRef};return react_default.a.createElement(ModuleComponent,extends_default()({},ref,this.restProps))}},{key:"restProps",get:function(){var _this$props2=this.props,restProps=(_this$props2.instance,_this$props2.name,_this$props2.onRender,objectWithoutProperties_default()(_this$props2,["instance","name","onRender"]));return objectSpread_default()({},restProps)}},{key:"component",get:function(){return this.componentRef.current}}]),Module}(react.Component);return defineProperty_default()(Module,"displayName","Module(".concat(getDisplayName(ModuleComponent),")")),defineProperty_default()(Module,"propTypes",{instance:prop_types_default.a.object.isRequired,name:prop_types_default.a.string.isRequired,onRender:prop_types_default.a.func}),defineProperty_default()(Module,"defaultProps",{onRender:null}),Module}},hocs_withMondoChart=(__webpack_require__(85),function(createChart){return function(ChartComponent){var MondoChart=function(_Component){function MondoChart(props){var _this;return classCallCheck_default()(this,MondoChart),_this=possibleConstructorReturn_default()(this,getPrototypeOf_default()(MondoChart).call(this,props)),defineProperty_default()(assertThisInitialized_default()(assertThisInitialized_default()(_this)),"onFilter",function(filters){_this.component&&_this.component.onFilter&&_this.component.onFilter(filters,_this.instance),_this.props.onFilter&&_this.props.onFilter(filters)}),defineProperty_default()(assertThisInitialized_default()(assertThisInitialized_default()(_this)),"onRender",function(){_this.component&&_this.component.onRender&&_this.component.onRender(_this.instance),_this.props.onRender&&_this.props.onRender(_this.instance)}),_this.mountRef=Object(react.createRef)(),_this.componentRef=Object(react.createRef)(),_this.createChart=createChart,_this}return inherits_default()(MondoChart,_Component),createClass_default()(MondoChart,[{key:"componentDidMount",value:function(){this.instance=this.createChart(this.mount,objectSpread_default()({},this.props)),this.instance.on("filter",this.onFilter),this.instance.on("render",this.onRender),this.instance.render(),this.forceUpdate()}},{key:"componentDidUpdate",value:function(prevProps){var filters=this.props.filters;filters!==prevProps.filters&&filters!==this.instance._filters&&this.instance.filter(filters)}},{key:"componentWillUnmount",value:function(){this.instance.remove()}},{key:"render",value:function(){var ref=isStateless(ChartComponent)?{}:{ref:this.componentRef};return react_default.a.createElement(ChartComponent,extends_default()({className:this.props.className,mountRef:this.mountRef},ref,this.restProps),this.props.children&&this.instance&&this.props.children(this.instance))}},{key:"restProps",get:function(){var _this$props=this.props,restProps=(_this$props.name,_this$props.dimension,_this$props.group,_this$props.onFilter,_this$props.onRender,objectWithoutProperties_default()(_this$props,["name","dimension","group","onFilter","onRender"]));return objectSpread_default()({},restProps)}},{key:"component",get:function(){return this.componentRef.current}},{key:"mount",get:function(){return this.mountRef.current}}]),MondoChart}(react.Component);return defineProperty_default()(MondoChart,"displayName","MondoChart(".concat(getDisplayName(ChartComponent),")")),defineProperty_default()(MondoChart,"propTypes",{name:prop_types_default.a.string.isRequired,dimension:prop_types_default.a.object.isRequired,group:prop_types_default.a.object.isRequired,onFilter:prop_types_default.a.func,onRender:prop_types_default.a.func,filters:prop_types_default.a.array,className:prop_types_default.a.string,children:prop_types_default.a.func}),defineProperty_default()(MondoChart,"defaultProps",{onFilter:null,onRender:null,filters:null,className:null,children:null}),MondoChart}}),hocs_withMondoMap=function(createMap){return function(MapComponent){var MondoMap=function(_Component){function MondoMap(props){var _this;return classCallCheck_default()(this,MondoMap),_this=possibleConstructorReturn_default()(this,getPrototypeOf_default()(MondoMap).call(this,props)),defineProperty_default()(assertThisInitialized_default()(assertThisInitialized_default()(_this)),"onFilter",function(filters){_this.component&&_this.component.onFilter&&_this.component.onFilter(filters,_this.instance),_this.props.onFilter&&_this.props.onFilter(filters)}),defineProperty_default()(assertThisInitialized_default()(assertThisInitialized_default()(_this)),"onRender",function(){_this.component&&_this.component.onRender&&_this.component.onRender(_this.instance),_this.props.onRender&&_this.props.onRender(_this.instance)}),_this.mountRef=Object(react.createRef)(),_this.componentRef=Object(react.createRef)(),_this.createMap=createMap,_this}return inherits_default()(MondoMap,_Component),createClass_default()(MondoMap,[{key:"componentDidMount",value:function(){this.instance=this.createMap(this.mount,objectSpread_default()({},this.props)),this.instance.on("filter",this.onFilter),this.instance.on("render",this.onRender),this.instance.render(),this.forceUpdate()}},{key:"componentDidUpdate",value:function(prevProps){var filters=this.props.filters;filters!==prevProps.filters&&filters!==this.instance._filters&&this.instance.filter(filters)}},{key:"componentWillUnmount",value:function(){this.instance.remove()}},{key:"render",value:function(){var ref=isStateless(MapComponent)?{}:{ref:this.componentRef};return react_default.a.createElement(MapComponent,extends_default()({mountRef:this.mountRef},ref,this.restProps),this.props.children&&this.instance&&this.props.children(this.instance))}},{key:"restProps",get:function(){var _this$props=this.props,restProps=(_this$props.name,_this$props.latitude,_this$props.longitude,_this$props.onFilter,_this$props.onRender,objectWithoutProperties_default()(_this$props,["name","latitude","longitude","onFilter","onRender"]));return objectSpread_default()({},restProps)}},{key:"component",get:function(){return this.componentRef.current}},{key:"mount",get:function(){return this.mountRef.current}}]),MondoMap}(react.Component);return defineProperty_default()(MondoMap,"displayName","MondoMap(".concat(getDisplayName(MapComponent),")")),defineProperty_default()(MondoMap,"propTypes",{name:prop_types_default.a.string.isRequired,latitude:prop_types_default.a.shape({dimension:prop_types_default.a.object.isRequired,group:prop_types_default.a.object.isRequired,accessor:prop_types_default.a.oneOfType([prop_types_default.a.string,prop_types_default.a.func]).isRequired}).isRequired,longitude:prop_types_default.a.shape({dimension:prop_types_default.a.object.isRequired,group:prop_types_default.a.object.isRequired,accessor:prop_types_default.a.oneOfType([prop_types_default.a.string,prop_types_default.a.func]).isRequired}).isRequired,onFilter:prop_types_default.a.func,onRender:prop_types_default.a.func,filters:prop_types_default.a.array,children:prop_types_default.a.func}),defineProperty_default()(MondoMap,"defaultProps",{onFilter:null,onRender:null,filters:null,children:null}),MondoMap}},Charts_BarChart_BarChart=function(_React$Component){function BarChart(){var _getPrototypeOf2,_this;classCallCheck_default()(this,BarChart);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _this=possibleConstructorReturn_default()(this,(_getPrototypeOf2=getPrototypeOf_default()(BarChart)).call.apply(_getPrototypeOf2,[this].concat(args))),defineProperty_default()(assertThisInitialized_default()(assertThisInitialized_default()(_this)),"onRender",function(instance){instance.drawBackground()}),_this}return inherits_default()(BarChart,_React$Component),createClass_default()(BarChart,[{key:"render",value:function(){var mountRef=this.props.mountRef;return react_default.a.createElement("div",{ref:mountRef},this.props.children)}}]),BarChart}(react_default.a.Component);defineProperty_default()(Charts_BarChart_BarChart,"propTypes",{mountRef:prop_types_default.a.shape({current:prop_types_default.a.instanceOf(Element)}).isRequired,children:prop_types_default.a.node}),defineProperty_default()(Charts_BarChart_BarChart,"defaultProps",{children:null});var Charts_BarChart=hocs_withMondoChart(function(target,options){return new charts_BarChart(objectSpread_default()({target:target},options))})(Charts_BarChart_BarChart);Charts_BarChart_BarChart.__docgenInfo={description:"",methods:[{name:"onRender",docblock:null,modifiers:[],params:[{name:"instance",type:null}],returns:null}],displayName:"BarChart",props:{children:{defaultValue:{value:"null",computed:!1},type:{name:"node"},required:!1,description:""},mountRef:{type:{name:"shape",value:{current:{name:"instanceOf",value:"Element",required:!1}}},required:!0,description:""}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Charts/BarChart.jsx"]={name:"BarChart",docgenInfo:Charts_BarChart_BarChart.__docgenInfo,path:"src/components/Charts/BarChart.jsx"});var Charts_RowChart_RowChart=function(_ref){var mountRef=_ref.mountRef,children=_ref.children;return react_default.a.createElement("div",{ref:mountRef},children)};Charts_RowChart_RowChart.defaultProps={children:null},Charts_RowChart_RowChart.propTypes={mountRef:prop_types_default.a.shape({current:prop_types_default.a.instanceOf(Element)}).isRequired,children:prop_types_default.a.node};var Charts_RowChart=hocs_withMondoChart(function(target,options){return new charts_RowChart(objectSpread_default()({target:target},options))})(Charts_RowChart_RowChart);Charts_RowChart_RowChart.__docgenInfo={description:"",methods:[],displayName:"RowChart",props:{children:{defaultValue:{value:"null",computed:!1},type:{name:"node"},required:!1,description:""},mountRef:{type:{name:"shape",value:{current:{name:"instanceOf",value:"Element",required:!1}}},required:!0,description:""}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Charts/RowChart.jsx"]={name:"RowChart",docgenInfo:Charts_RowChart_RowChart.__docgenInfo,path:"src/components/Charts/RowChart.jsx"});var Maps_PointMap_PointMap=function(_Component){function PointMap(){return classCallCheck_default()(this,PointMap),possibleConstructorReturn_default()(this,getPrototypeOf_default()(PointMap).apply(this,arguments))}return inherits_default()(PointMap,_Component),createClass_default()(PointMap,[{key:"render",value:function(){var mountRef=this.props.mountRef;return react_default.a.createElement("div",{ref:mountRef},this.props.children)}}]),PointMap}(react.Component);Maps_PointMap_PointMap.defaultProps={children:null},Maps_PointMap_PointMap.propTypes={mountRef:prop_types_default.a.shape({current:prop_types_default.a.instanceOf(Element)}).isRequired,children:prop_types_default.a.node};var Maps_PointMap=hocs_withMondoMap(function(target,options){return new maps_PointMap(objectSpread_default()({target:target},options))})(Maps_PointMap_PointMap);Maps_PointMap_PointMap.__docgenInfo={description:"",methods:[],displayName:"PointMap",props:{children:{defaultValue:{value:"null",computed:!1},type:{name:"node"},required:!1,description:""},mountRef:{type:{name:"shape",value:{current:{name:"instanceOf",value:"Element",required:!1}}},required:!0,description:""}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Maps/PointMap.jsx"]={name:"PointMap",docgenInfo:Maps_PointMap_PointMap.__docgenInfo,path:"src/components/Maps/PointMap.jsx"});var Modules_LabelModule_LabelModule=function(_Component){function LabelModule(){var _getPrototypeOf2,_this;classCallCheck_default()(this,LabelModule);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _this=possibleConstructorReturn_default()(this,(_getPrototypeOf2=getPrototypeOf_default()(LabelModule)).call.apply(_getPrototypeOf2,[this].concat(args))),defineProperty_default()(assertThisInitialized_default()(assertThisInitialized_default()(_this)),"updateText",function(text){var rendered=_this.module.rendered();rendered||null===text?rendered&&null===text?_this.module.remove():_this.module.setText(text):_this.module.render(text)}),defineProperty_default()(assertThisInitialized_default()(assertThisInitialized_default()(_this)),"onRender",function(module){_this.module=module}),_this}return inherits_default()(LabelModule,_Component),createClass_default()(LabelModule,[{key:"componentDidUpdate",value:function(prevProps){var _this$props=this.props,text=_this$props.text,color=_this$props.color,position=_this$props.position;text!==prevProps.text&&this.updateText(text),color!==prevProps.color&&this.module.setColor(color),position!==prevProps.position&&(this.module.position=position)}},{key:"render",value:function(){return null}}],[{key:"getInitialArgsFromProps",value:function(props){return[props.text]}}]),LabelModule}(react.Component);defineProperty_default()(Modules_LabelModule_LabelModule,"propTypes",{text:prop_types_default.a.string,color:prop_types_default.a.oneOfType([prop_types_default.a.string,prop_types_default.a.func,prop_types_default.a.shape({b:prop_types_default.a.number.isRequired,g:prop_types_default.a.number.isRequired,opacity:prop_types_default.a.number.isRequired,r:prop_types_default.a.number.isRequired})]),position:prop_types_default.a.oneOfType([prop_types_default.a.func,prop_types_default.a.shape({x:prop_types_default.a.number,y:prop_types_default.a.number})])}),defineProperty_default()(Modules_LabelModule_LabelModule,"defaultProps",{text:null,color:null,position:null});var Modules_LabelModule=hocs_withModule(function(instance,name,options){return new modules_LabelModule(objectSpread_default()({instance:instance,key:name},options))})(Modules_LabelModule_LabelModule);Modules_LabelModule_LabelModule.__docgenInfo={description:"",methods:[{name:"getInitialArgsFromProps",docblock:null,modifiers:["static"],params:[{name:"props",type:null}],returns:null},{name:"updateText",docblock:null,modifiers:[],params:[{name:"text",type:null}],returns:null},{name:"onRender",docblock:null,modifiers:[],params:[{name:"module",type:null}],returns:null}],displayName:"LabelModule",props:{text:{defaultValue:{value:"null",computed:!1},type:{name:"string"},required:!1,description:""},color:{defaultValue:{value:"null",computed:!1},type:{name:"union",value:[{name:"string"},{name:"func"},{name:"shape",value:{b:{name:"number",required:!0},g:{name:"number",required:!0},opacity:{name:"number",required:!0},r:{name:"number",required:!0}}}]},required:!1,description:""},position:{defaultValue:{value:"null",computed:!1},type:{name:"union",value:[{name:"func"},{name:"shape",value:{x:{name:"number",required:!1},y:{name:"number",required:!1}}}]},required:!1,description:""}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Modules/LabelModule.jsx"]={name:"LabelModule",docgenInfo:Modules_LabelModule_LabelModule.__docgenInfo,path:"src/components/Modules/LabelModule.jsx"});var Modules_SliderModule_SliderModule=function(_Component){function SliderModule(){var _getPrototypeOf2,_this;classCallCheck_default()(this,SliderModule);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _this=possibleConstructorReturn_default()(this,(_getPrototypeOf2=getPrototypeOf_default()(SliderModule)).call.apply(_getPrototypeOf2,[this].concat(args))),defineProperty_default()(assertThisInitialized_default()(assertThisInitialized_default()(_this)),"onSlide",function(value){_this.props.onSlide&&_this.props.onSlide(value)}),defineProperty_default()(assertThisInitialized_default()(assertThisInitialized_default()(_this)),"onRender",function(module){_this.module=module,_this.module.on("slide",_this.onSlide)}),_this}return inherits_default()(SliderModule,_Component),createClass_default()(SliderModule,[{key:"componentDidUpdate",value:function(prevProps){var value=this.props.value;if(value!==prevProps.value){var emit=null===prevProps.value;this.module.setValue(value,emit)}}},{key:"render",value:function(){return null}}]),SliderModule}(react.Component);defineProperty_default()(Modules_SliderModule_SliderModule,"propTypes",{value:prop_types_default.a.number,onSlide:prop_types_default.a.func}),defineProperty_default()(Modules_SliderModule_SliderModule,"defaultProps",{value:null,onSlide:null});hocs_withModule(function(instance,name,options){return new modules_SliderModule(objectSpread_default()({instance:instance,key:name},options))})(Modules_SliderModule_SliderModule);Modules_SliderModule_SliderModule.__docgenInfo={description:"",methods:[{name:"onSlide",docblock:null,modifiers:[],params:[{name:"value",type:null}],returns:null},{name:"onRender",docblock:null,modifiers:[],params:[{name:"module",type:null}],returns:null}],displayName:"SliderModule",props:{value:{defaultValue:{value:"null",computed:!1},type:{name:"number"},required:!1,description:""},onSlide:{defaultValue:{value:"null",computed:!1},type:{name:"func"},required:!1,description:""}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Modules/SliderModule.jsx"]={name:"SliderModule",docgenInfo:Modules_SliderModule_SliderModule.__docgenInfo,path:"src/components/Modules/SliderModule.jsx"}),__webpack_require__.d(__webpack_exports__,"a",function(){return Charts_BarChart}),__webpack_require__.d(__webpack_exports__,"d",function(){return Charts_RowChart}),__webpack_require__.d(__webpack_exports__,"c",function(){return Maps_PointMap}),__webpack_require__.d(__webpack_exports__,"b",function(){return Modules_LabelModule})},308:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){var _storybook_react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(31),_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(59);__webpack_require__(423);Object(_storybook_react__WEBPACK_IMPORTED_MODULE_0__.addParameters)({options:{name:"@mondobrain/mondocharts-react",showStoriesPanel:!0,showAddonPanel:!0}}),Object(_storybook_react__WEBPACK_IMPORTED_MODULE_0__.addDecorator)(_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_1__.withKnobs),Object(_storybook_react__WEBPACK_IMPORTED_MODULE_0__.configure)(function(){__webpack_require__(536)},module)}.call(this,__webpack_require__(65)(module))},423:function(module,exports,__webpack_require__){var content=__webpack_require__(424);"string"==typeof content&&(content=[[module.i,content,""]]);var options={hmr:!0,transform:void 0,insertInto:void 0};__webpack_require__(426)(content,options);content.locals&&(module.exports=content.locals)},424:function(module,exports,__webpack_require__){(module.exports=__webpack_require__(425)(!1)).push([module.i,"svg {\n  display: block;\n}\n\n.handle--custom {\n  fill: #eee;\n  stroke: #666;\n}\n\n.background-path {\n  fill: #d2e0ec;\n}\n\n.bar {\n  fill: steelblue;\n}\n\n.bar.deselected {\n  fill: #ccc;\n}\n\n.row {\n  will-change: transform;\n}\n\n.row rect {\n  fill-opacity: 0.8;\n}\n\n.row rect.selectable {\n  cursor: pointer;\n}\n\n.row rect.deselected {\n  fill: #ccc;\n}\n\n.row rect.selected {\n  fill: steelblue;\n}\n\n.row text {\n  pointer-events: none;\n}\n\n.row text {\n  fill: #000;\n  text-transform: capitalize;\n  line-height: 10px;\n  font-size: 10px;\n  font-weight: bold;\n}\n\n.grid line {\n  stroke: lightgrey;\n  stroke-opacity: 0.7;\n  shape-rendering: crispEdges;\n}\n\n.grid path {\n  stroke-width: 0;\n}\n\n/* discrete chart */\n.groupedBar rect {\n  cursor: pointer;\n\n  transition: fill 0.15s ease-out;\n}\n\n.groupedBar text.selection-value,\n.groupedBar text.reference-value {\n  font-size: 11px;\n  cursor: pointer;\n  white-space: pre;\n}\n\n.groupedBar rect.reference {\n  fill: steelblue;\n}\n\n.groupedBar rect.selection {\n}\n\n.groupedBar rect.selection.deselected,\n.groupedBar rect.reference.deselected {\n  opacity: 0.25;\n}\n\n.scores text {\n  dominant-baseline: hanging;\n  text-anchor: middle;\n  font-size: 14px;\n  font-weight: bold;\n}\n\n.labels text {\n  dominant-baseline: hanging;\n  font-size: 11px;\n  cursor: pointer;\n}\n\n.labels text.selected {\n  font-weight: bold;\n}\n\n.brush rect.selection {\n  fill: steelblue;\n  fill-opacity: 0.125;\n}\n",""])},428:function(module,__webpack_exports__,__webpack_require__){"use strict";(function(module){var _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(8),_babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_0__),_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(30),_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_1__),react__WEBPACK_IMPORTED_MODULE_4__=(__webpack_require__(86),__webpack_require__(139),__webpack_require__(1)),react__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_4__),_storybook_react__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(31),_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(40),_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(59),_components__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(28),_utils__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(13),accessor=function(d){return Number.parseFloat(d.mag)},Chart=function(props){return function(facts){var dimension=facts.dimension(accessor),group=Object(_utils__WEBPACK_IMPORTED_MODULE_9__.b)(dimension,accessor);return react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_components__WEBPACK_IMPORTED_MODULE_8__.a,_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_1___default()({name:"BarChart",dimension:dimension,group:group},props))}},actions={onRender:Object(_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_6__.action)("onRender"),onFilter:Object(_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_6__.action)("onFilter")};Object(_storybook_react__WEBPACK_IMPORTED_MODULE_5__.storiesOf)("Components/Charts/BarChart",module).add("Default",function(){return react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_utils__WEBPACK_IMPORTED_MODULE_9__.a,null,Chart(actions))}).add("Controlled",function(){var filters=Object(_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_7__.array)("Filters",[2,5]),props=_babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_0___default()({},actions,{filters:filters});return react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_utils__WEBPACK_IMPORTED_MODULE_9__.a,null,Chart(props))}).add("With Modules",function(){var labelVal=Object(_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_7__.text)("Label","Hello");return react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_utils__WEBPACK_IMPORTED_MODULE_9__.a,null,function(facts){var dimension=facts.dimension(accessor),group=Object(_utils__WEBPACK_IMPORTED_MODULE_9__.b)(dimension,accessor);return react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_components__WEBPACK_IMPORTED_MODULE_8__.a,{name:"BarChart",dimension:dimension,group:group},function(instance){return react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_components__WEBPACK_IMPORTED_MODULE_8__.b,{name:"Label",instance:instance,text:labelVal})})})})}).call(this,__webpack_require__(65)(module))},48:function(module,__webpack_exports__,__webpack_require__){"use strict";function getJsDateFromExcel(excelDate){excelDate/=1e3;const utcDays=Math.floor(excelDate-25569),dateInfo=new Date(1e3*(86400*utcDays)),fractionalDay=excelDate-Math.floor(excelDate)+1e-7;let totalSeconds=Math.floor(86400*fractionalDay);const seconds=totalSeconds%60;totalSeconds=seconds;const hours=Math.floor(totalSeconds/3600),minutes=Math.floor(totalSeconds/60)%60;return new Date(dateInfo.getFullYear(),dateInfo.getMonth(),dateInfo.getDate(),hours,minutes,seconds)}const vartypes={DEFAULT:"DEFAULT",DATE:"DATE"},single=(module,key,fn)=>{if(!module||!module.hot)return fn();let value;return module.hot.dispose(data=>{data[key]=value}),value=module.hot.data&&key in module.hot.data?module.hot.data[key]:fn()};__webpack_require__.d(__webpack_exports__,"a",function(){return getJsDateFromExcel}),__webpack_require__.d(__webpack_exports__,"c",function(){return vartypes}),__webpack_require__.d(__webpack_exports__,"b",function(){return single})},533:function(module,__webpack_exports__,__webpack_require__){"use strict";(function(module){var _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(8),_babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_0__),_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(30),_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_1__),react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(1),react__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__),_storybook_react__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(31),_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(40),_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(59),_components__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(28),_utils__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(13),accessor=function(d){return d.magSource},Chart=function(props){return function(facts){var dimension=facts.dimension(accessor),group=dimension.group();return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_components__WEBPACK_IMPORTED_MODULE_6__.d,_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_1___default()({name:"RowChart",dimension:dimension,group:group},props))}},actions={onRender:Object(_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_4__.action)("onRender"),onFilter:Object(_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_4__.action)("onFilter")};Object(_storybook_react__WEBPACK_IMPORTED_MODULE_3__.storiesOf)("Components/Charts/RowChart",module).add("Default",function(){return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_utils__WEBPACK_IMPORTED_MODULE_7__.a,null,Chart(actions))}).add("Controlled",function(){var filters=Object(_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_5__.array)("Filters",["Us"]),props=_babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_0___default()({},actions,{filters:filters});return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_utils__WEBPACK_IMPORTED_MODULE_7__.a,null,Chart(props))})}).call(this,__webpack_require__(65)(module))},534:function(module,__webpack_exports__,__webpack_require__){"use strict";(function(module){var _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(8),_babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_0__),_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(30),_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_1__),react__WEBPACK_IMPORTED_MODULE_4__=(__webpack_require__(86),__webpack_require__(139),__webpack_require__(1)),react__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_4__),_storybook_react__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(31),_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(40),_components__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(28),_utils__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(13),latAccessor=function(d){return Number.parseFloat(d.latitude)},lngAccessor=function(d){return Number.parseFloat(d.longitude)},Map=function(props){return function(facts){var latDimension=facts.dimension(latAccessor),latGroup=latDimension.group(),lngDimension=facts.dimension(lngAccessor),lngGroup=lngDimension.group();return react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_components__WEBPACK_IMPORTED_MODULE_7__.c,_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_1___default()({name:"Earthquakes",latitude:{dimension:latDimension,group:latGroup,accessor:latAccessor},longitude:{dimension:lngDimension,group:lngGroup,accessor:lngAccessor},accessToken:"pk.eyJ1IjoiY29zZ3JvdmUtdHlsZXIiLCJhIjoiY2pxbnhmdXNrMGFlNTQzcHB5aHkxaHJ2ayJ9.qDRg0WVWqyDBPmm2ArpNOA",height:300},props))}},actions={onRender:Object(_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_6__.action)("onRender"),onFilter:Object(_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_6__.action)("onFilter")},defaultProps=_babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_0___default()({},actions),controlledProps=_babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_0___default()({},actions);Object(_storybook_react__WEBPACK_IMPORTED_MODULE_5__.storiesOf)("Components/Maps/PointMap",module).add("Default",function(){return react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_utils__WEBPACK_IMPORTED_MODULE_8__.a,null,Map(defaultProps))}).add("Controlled",function(){return react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_utils__WEBPACK_IMPORTED_MODULE_8__.a,null,Map(controlledProps))})}).call(this,__webpack_require__(65)(module))},535:function(module,__webpack_exports__,__webpack_require__){"use strict";(function(module){__webpack_require__(86),__webpack_require__(139);var react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(1),react__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__),_storybook_react__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(31),_components__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(28),_utils__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(13),_storybook_addon_actions_dist_preview__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(112),accessToken="pk.eyJ1IjoiY29zZ3JvdmUtdHlsZXIiLCJhIjoiY2pxbnhmdXNrMGFlNTQzcHB5aHkxaHJ2ayJ9.qDRg0WVWqyDBPmm2ArpNOA",latAccessor=function(d){return Number.parseFloat(d.latitude)},lngAccessor=function(d){return Number.parseFloat(d.longitude)},magAccessor=function(d){return Number.parseFloat(d.mag)},chart={position:"relative"},title={position:"absolute",zIndex:1,fontFamily:'-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif',color:"white",backgroundColor:"rgba(0, 0, 0, 0.55)",padding:"5px",right:0,borderBottomLeftRadius:"5px"};Object(_storybook_react__WEBPACK_IMPORTED_MODULE_3__.storiesOf)("Examples/Multiple",module).add("Map",function(){return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_utils__WEBPACK_IMPORTED_MODULE_5__.a,null,function(facts){var latDimension=facts.dimension(latAccessor),latGroup=latDimension.group(),lngDimension=facts.dimension(lngAccessor),lngGroup=latDimension.group(),magDimension=facts.dimension(magAccessor),magGroup=Object(_utils__WEBPACK_IMPORTED_MODULE_5__.b)(magDimension,magAccessor);return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div",null,react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div",{style:chart},react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div",{style:title},"Magnitude"),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_components__WEBPACK_IMPORTED_MODULE_4__.a,{name:"Magnitude",dimension:magDimension,group:magGroup})),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div",{style:chart},react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div",{style:title},"Lat/Lng"),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_components__WEBPACK_IMPORTED_MODULE_4__.c,{name:"Map",latitude:{dimension:latDimension,group:latGroup,accessor:latAccessor},longitude:{dimension:lngDimension,group:lngGroup,accessor:lngAccessor},accessToken:accessToken,height:300,onFilter:Object(_storybook_addon_actions_dist_preview__WEBPACK_IMPORTED_MODULE_6__.action)("filter[PointMap]")})))})}).add("Map (filter on zoom)",function(){return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_utils__WEBPACK_IMPORTED_MODULE_5__.a,null,function(facts){var latDimension=facts.dimension(latAccessor),latGroup=latDimension.group(),lngDimension=facts.dimension(lngAccessor),lngGroup=latDimension.group(),magDimension=facts.dimension(magAccessor),magGroup=Object(_utils__WEBPACK_IMPORTED_MODULE_5__.b)(magDimension,magAccessor);return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div",null,react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div",{style:chart},react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div",{style:title},"Magnitude"),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_components__WEBPACK_IMPORTED_MODULE_4__.a,{name:"Magnitude",dimension:magDimension,group:magGroup})),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div",{style:chart},react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div",{style:title},"Lat/Lng"),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_components__WEBPACK_IMPORTED_MODULE_4__.c,{name:"Map",latitude:{dimension:latDimension,group:latGroup,accessor:latAccessor},longitude:{dimension:lngDimension,group:lngGroup,accessor:lngAccessor},accessToken:accessToken,height:300,onFilter:Object(_storybook_addon_actions_dist_preview__WEBPACK_IMPORTED_MODULE_6__.action)("filter[PointMap]"),filterVisible:!0})))})})}).call(this,__webpack_require__(65)(module))},536:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__(428),__webpack_require__(533),__webpack_require__(534),__webpack_require__(535)},9:function(module,__webpack_exports__,__webpack_require__){"use strict";var utils_Registry=class{constructor(){this._data={}}list(){return Object.values(this._data)}register(instance,name=null){const key=name||instance.name;this._data[key]=instance}deregister(instance){delete this._data[instance.name]}get(key){return this._data[key]}has(key){return void 0!==this._data[key]}},d3_node=__webpack_require__(2);class MixinBuilder{constructor(superclass){this.superclass=superclass}with(...mixins){return mixins.reduce((acc,mixin)=>mixin(acc),this.superclass)}}const mix=superclass=>new MixinBuilder(superclass),scientificFormat=d3_node.format("~s"),formatTick=d=>Math.abs(d/1e4)>=1?scientificFormat(d):d;__webpack_require__.d(__webpack_exports__,"a",function(){return utils_Registry}),__webpack_require__.d(__webpack_exports__,"c",function(){return mix}),__webpack_require__.d(__webpack_exports__,"b",function(){return formatTick})}},[[228,1,2]]]);
//# sourceMappingURL=main.55b5095f6f9ef1e0ec9a.bundle.js.map